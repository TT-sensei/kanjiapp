<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°å­¦æ ¡ã‹ã‚“ã˜ãƒã‚¹ã‚¿ãƒ¼ å…¨å­¦å¹´çµ±åˆç‰ˆ</title>
    <link href="https://fonts.googleapis.com/css2?family=Mochiy+Pop+One&display=swap" rel="stylesheet">
    <style>
        /* --- ãƒ‡ã‚¶ã‚¤ãƒ³è¨­å®š --- */
        body {
            font-family: 'Mochiy Pop One', sans-serif;
            background-color: #f0f4f8;
            margin: 0; padding: 0;
            color: #333;
            overflow: hidden; /* iframeã§è¡¨ç¤ºã™ã‚‹ãŸã‚ */
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ã‚¨ãƒªã‚¢ï¼ˆæ¤œç´¢ï¼†ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰ */
        header {
            background: white;
            padding: 10px 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            z-index: 10;
            flex-shrink: 0;
        }

        .top-row {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 10px;
        }

        h1 {
            font-size: 1.5rem; margin: 0; color: #37474F;
            display: flex; align-items: center; gap: 10px;
        }
        .logo-icon { font-size: 2rem; }

        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ï¼ˆå„å­¦å¹´ï¼‰ */
        .grade-nav {
            display: flex; gap: 8px; overflow-x: auto; padding-bottom: 5px;
            -webkit-overflow-scrolling: touch;
        }
        .grade-btn {
            flex: 0 0 auto;
            padding: 8px 16px; border-radius: 20px; border: none;
            color: white; font-family: inherit; cursor: pointer;
            font-size: 0.9rem; transition: transform 0.1s;
            box-shadow: 0 2px 0 rgba(0,0,0,0.2);
            text-decoration: none; display: inline-block;
        }
        .grade-btn:active, .grade-btn.active { transform: translateY(2px); box-shadow: none; filter: brightness(0.9); }

        /* å„å­¦å¹´ã®ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ */
        .g1 { background: #FF7043; } /* 1å¹´: ã‚ªãƒ¬ãƒ³ã‚¸ */
        .g2 { background: #FFCA28; color: #333; } /* 2å¹´: é»„è‰² */
        .g3 { background: #42A5F5; } /* 3å¹´: é’ */
        .g4 { background: #66BB6A; } /* 4å¹´: ç·‘ */
        .g5 { background: #AB47BC; } /* 5å¹´: ç´« */
        .g6 { background: #1A237E; } /* 6å¹´: ç´º */
        .g-home { background: #78909C; }

        /* å…¨æ¼¢å­—æ¤œç´¢ãƒãƒ¼ */
        .search-area {
            position: relative; width: 100%; max-width: 600px; margin: 0 auto;
        }
        #global-search {
            width: 100%; padding: 12px; border-radius: 12px;
            border: 2px solid #CFD8DC; font-size: 1rem;
            font-family: inherit; outline: none; box-sizing: border-box;
            background: #ECEFF1;
        }
        #global-search:focus { border-color: #546E7A; background: white; }
        
        /* æ¤œç´¢çµæœãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— */
        #search-results {
            position: absolute; top: 110%; left: 0; width: 100%;
            background: white; border-radius: 12px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            max-height: 300px; overflow-y: auto;
            display: none; z-index: 100;
        }
        .result-item {
            padding: 10px 15px; border-bottom: 1px solid #eee;
            cursor: pointer; display: flex; align-items: center; justify-content: space-between;
        }
        .result-item:hover { background-color: #f5f5f5; }
        .res-char { font-size: 1.5rem; font-weight: bold; color: #333; }
        .res-grade { font-size: 0.9rem; padding: 4px 8px; border-radius: 10px; color: white; }

        /* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆiframeï¼‰ */
        #content-frame {
            flex-grow: 1; border: none; width: 100%; height: 100%;
            background: #fff; transition: opacity 0.3s;
        }
        
        /* ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ */
        #welcome-screen {
            position: absolute; top: 70px; left: 0; width: 100%; height: calc(100% - 70px);
            background: #f0f4f8; display: flex; flex-direction: column;
            align-items: center; justify-content: center; z-index: 5;
            text-align: center;
        }
        .welcome-title { font-size: 2rem; color: #37474F; margin-bottom: 20px; }
        .stats-box {
            background: white; padding: 20px; border-radius: 15px;
            box-shadow: 0 4px 0 #CFD8DC; margin-bottom: 30px;
        }

    </style>
</head>
<body>

    <header>
        <div class="top-row">
            <h1><span class="logo-icon">ğŸ«</span> ã‹ã‚“ã˜ãƒã‚¹ã‚¿ãƒ¼çµ±åˆç‰ˆ</h1>
            <button class="grade-btn g-home" onclick="goHome()">ğŸ  ãƒ›ãƒ¼ãƒ </button>
        </div>
        
        <div class="search-area">
            <input type="text" id="global-search" placeholder="å…¨å­¦å¹´ã‹ã‚‰ã•ãŒã™ï¼ˆä¾‹ï¼šæ„›ã€å·ï¼‰" autocomplete="off">
            <div id="search-results"></div>
        </div>

        <div class="grade-nav" style="margin-top:10px;">
            <button class="grade-btn g1" onclick="loadGrade(1)">1ã­ã‚“</button>
            <button class="grade-btn g2" onclick="loadGrade(2)">2ã­ã‚“</button>
            <button class="grade-btn g3" onclick="loadGrade(3)">3ã­ã‚“</button>
            <button class="grade-btn g4" onclick="loadGrade(4)">4ã­ã‚“</button>
            <button class="grade-btn g5" onclick="loadGrade(5)">5ã­ã‚“</button>
            <button class="grade-btn g6" onclick="loadGrade(6)">6ã­ã‚“</button>
        </div>
    </header>

    <div id="welcome-screen">
        <div class="welcome-title">6å¹´é–“ã®é›†å¤§æˆï¼<br>å°å­¦æ ¡ æ¼¢å­—ãƒã‚¹ã‚¿ãƒ¼</div>
        <div class="stats-box">
            <div>åéŒ²æ¼¢å­—æ•°</div>
            <div style="font-size:3rem; color:#0288D1; font-weight:bold;">1026<span style="font-size:1.5rem">æ–‡å­—</span></div>
        </div>
        <div style="color:#546E7A;">ä¸Šã®ãƒœã‚¿ãƒ³ã‹ã‚‰ å­¦å¹´ã‚’ãˆã‚‰ã‚“ã§ã­</div>
    </div>

    <iframe id="content-frame" name="app-view"></iframe>

    <script>
        // --- å…¨1026æ–‡å­—ãƒ‡ãƒ¼ã‚¿ ---
        // æ¤œç´¢ç”¨ã«å„æ¼¢å­—ãŒã©ã®å­¦å¹´ã‹ã‚’ãƒãƒƒãƒ”ãƒ³ã‚°ã—ã¾ã™
        const kanjiDatabase = [
            { g:1, c:"ä¸€å³é›¨å††ç‹éŸ³ä¸‹ç«èŠ±è²å­¦æ°—ä¹ä¼‘ç‰é‡‘ç©ºæœˆçŠ¬è¦‹äº”å£æ ¡å·¦ä¸‰å±±å­å››ç³¸å­—è€³ä¸ƒè»Šæ‰‹åå‡ºå¥³å°ä¸Šæ£®äººæ°´æ­£ç”Ÿé’å¤•çŸ³èµ¤åƒå·å…ˆæ—©è‰è¶³æ‘å¤§ç”·ç«¹ä¸­è™«ç”ºå¤©ç”°åœŸäºŒæ—¥å…¥å¹´ç™½å…«ç™¾æ–‡æœ¨æœ¬åç›®ç«‹åŠ›æ—å…­" },
            { g:2, c:"å¼•ç¾½é›²åœ’é ä½•ç§‘å¤å®¶æ­Œç”»å›ä¼šæµ·çµµå¤–è§’æ¥½æ´»é–“ä¸¸å²©é¡”æ±½è¨˜å¸°å¼“ç‰›é­šäº¬å¼·æ•™è¿‘å…„å½¢è¨ˆå…ƒè¨€åŸæˆ¸å¤åˆå¾Œèªå·¥å…¬åºƒäº¤å…‰è€ƒè¡Œé«˜é»„åˆè°·å›½é»’ä»Šæ‰ç´°ä½œç®—æ­¢å¸‚çŸ¢å§‰æ€ç´™å¯ºè‡ªæ™‚å®¤ç¤¾å¼±é¦–ç§‹é€±æ˜¥æ›¸å°‘å ´è‰²é£Ÿå¿ƒæ–°è¦ªå›³æ•°è¥¿å£°æ˜Ÿæ™´åˆ‡é›ªèˆ¹ç·šå‰çµ„èµ°å¤šå¤ªä½“å°åœ°æ± çŸ¥èŒ¶æ˜¼é•·é³¥æœç›´é€šå¼Ÿåº—ç‚¹é›»åˆ€å†¬å½“æ±ç­”é ­åŒé“èª­å†…å—è‚‰é¦¬å£²è²·éº¦åŠç•ªçˆ¶é¢¨åˆ†èç±³æ­©æ¯æ–¹åŒ—å¦¹æ¯ä¸‡æ˜é³´æ¯›é–€å¤œé‡å‹ç”¨æ›œæ¥é‡Œç†è©±" },
            { g:3, c:"æ‚ªå®‰æš—åŒ»å§”æ„è‚²å“¡é™¢é£²é‹æ³³é§…å¤®æ¨ªå±‹æ¸©åŒ–è·ç•Œé–‹éšå¯’æ„Ÿæ¼¢é¤¨å²¸èµ·æœŸå®¢ç©¶æ€¥ç´šå®®çƒå»æ©‹æ¥­æ›²å±€éŠ€åŒºè‹¦å…·å›ä¿‚è»½è¡€æ±ºç ”çœŒåº«æ¹–å‘å¹¸æ¸¯å·æ ¹ç¥­çš¿ä»•æ­»ä½¿å§‹æŒ‡æ­¯è©©æ¬¡äº‹æŒå¼å®Ÿå†™è€…ä¸»å®ˆå–é…’å—å·æ‹¾çµ‚ç¿’é›†ä½é‡å®¿æ‰€æš‘åŠ©æ˜­æ¶ˆå•†ç« å‹ä¹—æ¤ç”³èº«ç¥çœŸæ·±é€²ä¸–æ•´æ˜”å…¨ç›¸é€æƒ³æ¯é€Ÿæ—ä»–æ‰“å¯¾å¾…ä»£ç¬¬é¡Œç‚­çŸ­è«‡ç€æ³¨æŸ±ä¸å¸³èª¿è¿½å®šåº­ç¬›é‰„è»¢éƒ½åº¦æŠ•è±†å³¶æ¹¯ç™»ç­‰å‹•ç«¥è¾²æ³¢é…å€ç®±ç•‘ç™ºåå‚æ¿çš®æ‚²ç¾é¼»ç­†æ°·è¡¨ç§’ç—…å“è² éƒ¨æœç¦ç‰©å¹³è¿”å‹‰æ”¾å‘³å‘½é¢å•å½¹è–¬ç”±æ²¹æœ‰éŠäºˆç¾Šæ´‹è‘‰é™½æ§˜è½æµæ—…ä¸¡ç·‘ç¤¼åˆ—ç·´è·¯å’Œ" },
            { g:4, c:"æ„›æ¡ˆä»¥è¡£ä½å›²èƒƒå°è‹±æ „å¡©å„„åŠ è²¨èª²èŠ½æ”¹æ¢°å®³è¡—å„è¦šå®Œå®˜ç®¡é–¢è¦³é¡˜å¸Œå­£ç´€å–œæ——å™¨æ©Ÿè­°æ±‚æ³£æ•‘çµ¦æŒ™æ¼å…±å”é¡ç«¶æ¥µè¨“è»éƒ¡å¾„å‹æ™¯èŠ¸æ¬ çµå»ºå¥é¨“å›ºåŠŸå¥½å€™èˆªåº·å‘Šå·®èœæœ€ææ˜¨æœ­åˆ·æ®ºå¯Ÿå‚ç”£æ•£æ®‹å£«æ°å²å¸è©¦å…æ²»è¾å¤±å€Ÿç¨®å‘¨ç¥é †åˆæ¾ç¬‘å”±ç„¼è±¡ç…§è³è‡£ä¿¡æˆçœæ¸…é™å¸­ç©æŠ˜ç¯€èª¬æµ…æˆ¦é¸ç„¶äº‰å€‰å·£æŸå´ç¶šå’å­«å¸¯éšŠé”å˜ç½®ä»²è²¯å…†è…¸ä½åº•åœçš„å…¸ä¼å¾’åŠªç¯å ‚åƒç‰¹å¾—æ¯’ç†±å¿µæ•—æ¢…åšé£¯é£›è²»å¿…ç¥¨æ¨™ä¸å¤«ä»˜åºœå‰¯ç²‰å…µåˆ¥è¾ºå¤‰åŒ…æ³•æœ›ç‰§æœ«æº€æœªè„ˆæ°‘ç„¡ç´„å‹‡è¦é¤Šæµ´åˆ©é™¸è‰¯æ–™é‡è¼ªé¡ä»¤å†·ä¾‹æ­´é€£è€åŠ´éŒ²" },
            { g:5, c:"åœ§ç§»å› æ°¸å–¶è¡›æ˜“ç›Šæ¶²æ¼”å¿œå¾€æ¡œæ©å¯ä»®ä¾¡æ²³éè³€å¿«è§£æ ¼ç¢ºé¡åˆŠå¹¹æ…£çœ¼åŸºå¯„è¦æŠ€ç¾©é€†ä¹…æ—§å±…è¨±å¢ƒå‡ç¦å¥ç¾¤çµŒæ½”ä»¶åˆ¸é™ºæ¤œé™ç¾æ¸›æ•…å€‹è­·åŠ¹åšè€•é‰±æ§‹èˆˆè¬›æ··æŸ»å†ç½å¦»æ¡éš›åœ¨è²¡ç½ªé›‘é…¸è³›æ”¯å¿—æå¸«è³‡é£¼ç¤ºä¼¼è­˜è³ªèˆè¬æˆä¿®è¿°è¡“æº–åºæ‹›æ‰¿è¨¼æ¡çŠ¶å¸¸æƒ…ç¹”è·åˆ¶æ€§æ”¿å‹¢ç²¾è£½ç¨è²¬ç¸¾æ¥è¨­èˆŒçµ¶éŠ­ç¥–ç´ ç·é€ åƒå¢—å‰‡æ¸¬å±ç‡æé€€è²¸æ…‹å›£æ–­ç¯‰å¼µæç¨‹é©æ•µçµ±å°éŠ…å¾³ç‹¬ä»»ç‡ƒèƒ½ç ´çŠ¯åˆ¤ç‰ˆæ¯”è‚¥éå‚™ä¿µè©•è²§å¸ƒå©¦å¯Œæ­¦å¾©è¤‡ä»ç·¨å¼ä¿å¢“å ±è±Šé˜²è²¿æš´å‹™å¤¢è¿·ç¶¿è¼¸ä½™é å®¹ç•¥ç•™é ˜" },
            { g:6, c:"ç•°éºåŸŸå®‡æ˜ å»¶æ²¿æˆ‘ç°æ‹¡é©é–£å‰²æ ªå¹²å·»çœ‹ç°¡å±æœºæ®è²´ç–‘å¸ä¾›èƒ¸éƒ·å‹¤ç­‹ç³»æ•¬è­¦åŠ‡æ¿€ç©´çµ¹æ¨©æ†²æºå³å·±å‘¼èª¤åå­çš‡ç´…é™é‹¼åˆ»ç©€éª¨å›°ç ‚åº§æ¸ˆè£ç­–å†Šèš•è‡³ç§å§¿è¦–è©èªŒç£å°„æ¨å°ºè‹¥æ¨¹åå®—å°±è¡†å¾“ç¸¦ç¸®ç†Ÿç´”å‡¦ç½²è«¸é™¤å°†å‚·éšœåŸè’¸é‡ä»å‚æ¨å¯¸ç››è–èª å®£å°‚æ³‰æ´—æŸ“å–„å¥çª“å‰µè£…å±¤æ“è”µè‡“å­˜å°Šå®…æ‹…æ¢èª•æ®µæš–å€¤å®™å¿ è‘—åºé ‚æ½®è³ƒç—›å±•è¨å…šç³–å±Šé›£ä¹³èªç´è„³æ´¾æ‹èƒŒè‚ºä¿³ç­æ™©å¦æ‰¹ç§˜è…¹å¥®ä¸¦é™›é–‰ç‰‡è£œæš®å®è¨ªäº¡å¿˜æ£’æšå¹•å¯†ç›Ÿæ¨¡è¨³éƒµå„ªå¹¼æ¬²ç¿Œä¹±åµè¦§è£å¾‹è‡¨æœ—è«–" }
        ];

        // æ¤œç´¢ç”¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆ
        let searchIndex = {};
        kanjiDatabase.forEach(data => {
            const chars = data.c;
            for(let char of chars) {
                searchIndex[char] = data.g;
            }
        });

        const frame = document.getElementById('content-frame');
        const welcome = document.getElementById('welcome-screen');
        const searchInput = document.getElementById('global-search');
        const searchResults = document.getElementById('search-results');

        // å­¦å¹´ã‚¢ãƒ—ãƒªã‚’èª­ã¿è¾¼ã‚€
        function loadGrade(grade) {
            welcome.style.display = 'none'; // ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ã‚’æ¶ˆã™
            frame.style.opacity = '0'; // ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆåŠ¹æœ
            
            // ãƒœã‚¿ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–åŒ–
            document.querySelectorAll('.grade-btn').forEach(b => b.classList.remove('active'));
            document.querySelector(`.g${grade}`).classList.add('active');

            setTimeout(() => {
                // ãƒ•ã‚¡ã‚¤ãƒ«åã‚’æŒ‡å®š (1.html, 2.html...)
                frame.src = `${grade}.html`; 
                frame.onload = () => {
                    frame.style.opacity = '1';
                };
            }, 200);
        }

        // ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹
        function goHome() {
            frame.src = "";
            welcome.style.display = 'flex';
            document.querySelectorAll('.grade-btn').forEach(b => b.classList.remove('active'));
            searchInput.value = "";
            searchResults.style.display = 'none';
        }

        // æ¤œç´¢æ©Ÿèƒ½
        searchInput.addEventListener('input', (e) => {
            const query = e.target.value.trim();
            searchResults.innerHTML = '';
            
            if (query.length === 0) {
                searchResults.style.display = 'none';
                return;
            }

            let found = false;
            // å…¥åŠ›ã•ã‚ŒãŸæ–‡å­—ã‚’1æ–‡å­—ãšã¤ãƒã‚§ãƒƒã‚¯
            for (let char of query) {
                if (searchIndex[char]) {
                    found = true;
                    const grade = searchIndex[char];
                    const div = document.createElement('div');
                    div.className = 'result-item';
                    
                    // å­¦å¹´ã”ã¨ã®è‰²ã‚¯ãƒ©ã‚¹
                    const gradeClass = `g${grade}`;
                    
                    div.innerHTML = `
                        <span class="res-char">${char}</span>
                        <span class="res-grade ${gradeClass}">${grade}å¹´ç”Ÿ</span>
                    `;
                    
                    div.onclick = () => {
                        loadGrade(grade);
                        searchInput.value = "";
                        searchResults.style.display = 'none';
                    };
                    searchResults.appendChild(div);
                }
            }

            if (found) {
                searchResults.style.display = 'block';
            } else {
                searchResults.style.display = 'none';
            }
        });

        // æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹ä»¥å¤–ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰çµæœã‚’é–‰ã˜ã‚‹
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.search-area')) {
                searchResults.style.display = 'none';
            }
        });

    </script>
</body>
</html>
